{"version":3,"sources":["logo.svg","Components/VaccineCenter.js","Api/api.js","Components/Search/Search.jsx","App.js","reportWebVitals.js","index.js"],"names":["VaccineCenter","props","centers","filterbyAge","v_center","age","filter","a","vv","sessions","b","min_age_limit","available_capacity","length","center18","center45","centerName","arr","map","fee_type","name","vaccine","getTDdates","center_id","date","getTHdates","maxLen","Infinity","forEach","element","console","log","th","i","push","className","index","vaccine_center","state_name","district_name","pincode","fetchPinCodeData","axios","get","data","Search","inputRef","useRef","useState","vaccine_result","update_vaccine_result","showVaccineCenter","updateCenterVisibility","handleSubmit","event","preventDefault","Date","ye","Intl","DateTimeFormat","year","format","mo","month","da","day","nDate","current","value","result","onSubmit","type","ref","placeholder","App","src","logo","alt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4406aa4d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react'\n\nfunction VaccineCenter(props) {\n    const { centers } = props;\n    const filterbyAge = (v_center, age) => {\n        const v = v_center.filter(a => {\n            const vv = a.sessions.filter(b => {\n                if (b.min_age_limit === age && b.available_capacity > 0) return b\n                return false\n            })\n            if (vv.length) return vv\n            return false\n        })\n        return v\n    }\n    const center18 = filterbyAge(centers, 18);\n    const center45 = filterbyAge(centers, 45)\n\n    const centerName = (arr) => {\n        return (<>\n            {arr.map(a => {\n                return (<tr key={a.center_id}>\n                    <td>{a.fee_type}</td>\n                    <td>{a.name}</td>\n                    <td>{a.vaccine ?? 'unknown'}</td>\n\n                    {getTDdates(a.sessions)}\n                </tr>)\n            })}\n        </>)\n    }\n\n\n    const getTDdates = (arr) => {\n        return (arr.map(a => <td>{a.date} / {a.available_capacity}</td>))\n    }\n\n    const getTHdates = (arr) => {\n        let maxLen = -Infinity;\n        arr.forEach(element => {\n            if (element.sessions.length > maxLen) maxLen = element.sessions.length;\n        });\n        console.log(maxLen, 'max')\n        let th = [];\n        for (let i = 0; i < maxLen; i++) {\n            th.push(<th key={`${i}_}`} className=\"cvs_date\">Date / Available Vaccines</th>)\n        }\n        console.log(th, 'th')\n        return th.map((a, index) => <>{a}</>)\n    }\n\n    const vaccine_center = (arr) => {\n        return (\n            <>\n                {centers.length ?\n                    <table className=\"styled-table\" >\n                        <tbody>\n                            <tr>\n                                <th>\n                                    State\n                                </th>\n                                <th>\n                                    District\n                                </th>\n                                <th> Pincode  </th>\n\n                            </tr>\n                            <tr key={arr.center_id}>\n                                <td>\n                                    {centers[0].state_name}\n                                </td>\n                                <td> {centers[0].district_name} </td>\n                                <td>{centers[0].pincode}</td>\n\n                            </tr>\n                        </tbody>\n                    </table>\n                    : null\n                }\n                <br></br>\n                {arr.length ? (\n                    <div>\n                        <table className=\"styled-table\">\n\n                            <thead>\n\n                                <tr>\n                                    <th>Fees</th>\n                                    <th>Center Name</th>\n                                    <th>Vaccine Type</th>\n                                    {getTHdates(arr)}\n                                    {/* <th className=\"cvs_available_vc\">Available Vaccines</th> */}\n\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {centerName(arr)}\n                            </tbody>\n                        </table>\n                    </div>) : <div className=\"cvs_no_vc\"><br></br>NO VACCINE CENTER AVAILABLE</div>}\n\n            </>\n\n        )\n    }\n    return (<div>\n        <h1>Vaccine Center for 18+</h1>\n        {vaccine_center(center18)}\n        <br className=\"cvs_br\"></br>\n        <h1>Vaccine Center for 45+</h1>\n        {vaccine_center(center45)}\n    </div>)\n}\n\nexport default VaccineCenter\n","import axios from 'axios'\n\nconst fetchPinCodeData = async (pincode, date) => {\n    try {\n        const { data } = await axios.get(`https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode=${pincode}&date=${date}`);\n        return data.centers\n    }\n    catch (err) {\n        console.log(err)\n        return {}\n    }\n\n}\n\nexport { fetchPinCodeData }","import React, { useState, useRef } from 'react';\nimport VaccineCenter from '../VaccineCenter'\nimport { fetchPinCodeData } from '../../Api/api'\n\n\nfunction Search() {\n    const inputRef = useRef();\n    const [vaccine_result, update_vaccine_result] = useState([]);\n    const [showVaccineCenter, updateCenterVisibility] = useState(false)\n    const handleSubmit = async (event) => {\n        event.preventDefault()\n        const date = new Date()\n        let ye = new Intl.DateTimeFormat('en', { year: 'numeric' }).format(date);\n        let mo = new Intl.DateTimeFormat('en', { month: '2-digit' }).format(date);\n        let da = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(date);\n        const nDate = `${da}-${mo}-${ye}`\n        const pincode = inputRef.current.value;\n        const result = await fetchPinCodeData(pincode, nDate);\n        if (result.length) {\n            update_vaccine_result(result)\n            updateCenterVisibility(true)\n        }\n        else update_vaccine_result([])\n\n    }\n\n\n    return (\n        <div>\n            <form onSubmit={handleSubmit}>\n                <input type=\"text\" ref={inputRef} className='cvs_search_input' placeholder='Enter the pincode to search' ></input>\n                <input className='cvs_search_button' type=\"submit\" value=\"Submit\" />\n            </form>\n\n            {showVaccineCenter ? <VaccineCenter centers={vaccine_result} /> : null}\n        </div>\n    )\n}\n\nexport default Search\n","import logo from './logo.svg';\nimport Search from './Components/Search/Search'\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n      </header>\n      <Search/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}